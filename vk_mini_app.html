<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>EngageBot - CSGO –ú–∞–≥–∞–∑–∏–Ω</title>
    <script src="https://unpkg.com/@vkontakte/vk-bridge/dist/browser.min.js"></script>
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body { font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif; background: #1a1a2e; color: #fff; min-height: 100vh; padding: 15px; }
        .container { max-width: 100%; }
        .header { text-align: center; margin-bottom: 20px; padding: 15px; background: rgba(255,255,255,0.1); border-radius: 15px; }
        .header h1 { color: #4ecdc4; margin-bottom: 5px; }
        .items-grid { display: grid; grid-template-columns: repeat(auto-fill, minmax(160px, 1fr)); gap: 12px; }
        .item-card { background: rgba(255,255,255,0.1); border-radius: 10px; padding: 12px; text-align: center; }
        .item-image { width: 100%; height: 100px; object-fit: contain; border-radius: 6px; margin-bottom: 10px; background: rgba(255,255,255,0.05); padding: 8px; }
        .item-name { font-size: 12px; margin-bottom: 6px; line-height: 1.3; height: 28px; overflow: hidden; }
        .item-price { font-size: 14px; font-weight: bold; color: #4ecdc4; margin-bottom: 8px; }
        .buy-btn { width: 100%; padding: 8px; border: none; border-radius: 6px; background: #4ecdc4; color: white; font-weight: bold; cursor: pointer; }
        .loading { text-align: center; padding: 30px; color: #ccc; }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>üéÆ EngageBot CSGO –ú–∞–≥–∞–∑–∏–Ω</h1>
            <p>–ü–æ–∫—É–ø–∞–π—Ç–µ —Å–∫–∏–Ω—ã –∑–∞ –º–æ–Ω–µ—Ç—ã</p>
        </div>
        <div id="itemsList" class="loading">üîÑ –ó–∞–≥—Ä—É–∑–∫–∞ —Ç–æ–≤–∞—Ä–æ–≤...</div>
    </div>

    <script>
        const API_BASE_URL = 'https://your-backend.herokuapp.com'; // –ó–ê–ú–ï–ù–ò–¢–ï –Ω–∞ –≤–∞—à –±–µ–∫–µ–Ω–¥
        
        async function loadItems() {
            try {
                const res = await fetch(`${API_BASE_URL}/api/csmani/items?max_price=1000`);
                const data = await res.json();
                
                if (data.success && data.items) {
                    const grid = document.getElementById('itemsList');
                    grid.innerHTML = '<div class="items-grid"></div>';
                    const container = grid.querySelector('.items-grid');
                    
                    data.items.forEach(item => {
                        const card = document.createElement('div');
                        card.className = 'item-card';
                        card.innerHTML = `
                            <img src="${item.image}" class="item-image" onerror="this.src='https://via.placeholder.com/160x100/2a2a3e/ffffff?text=CSGO'">
                            <div class="item-name">${item.name}</div>
                            <div class="item-price">${item.price} ‚ÇΩ</div>
                            <button class="buy-btn">üõí –ö—É–ø–∏—Ç—å</button>
                        `;
                        container.appendChild(card);
                    });
                }
            } catch (err) {
                document.getElementById('itemsList').innerHTML = '‚ùå –û—à–∏–±–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏';
            }
        }

        // –¢–µ—Å—Ç–æ–≤—ã–µ –¥–∞–Ω–Ω—ã–µ –µ—Å–ª–∏ –±–µ–∫–µ–Ω–¥ –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç
        function loadTestData() {
            const grid = document.getElementById('itemsList');
            grid.innerHTML = '<div class="items-grid"></div>';
            const container = grid.querySelector('.items-grid');
            
            const testItems = [
                {name: "AK-47 | Redline", price: 1500, image: "https://cdn2.csgo.com/item/image/width=360/AK-47%20%7C%20Redline.webp"},
                {name: "AWP | Asiimov", price: 2000, image: "https://cdn2.csgo.com/item/image/width=360/AWP%20%7C%20Asiimov.webp"},
                {name: "Glock-18 | Water Elemental", price: 300, image: "https://cdn2.csgo.com/item/image/width=360/Glock-18%20%7C%20Water%20Elemental.webp"}
            ];
            
            testItems.forEach(item => {
                const card = document.createElement('div');
                card.className = 'item-card';
                card.innerHTML = `
                    <img src="${item.image}" class="item-image" onerror="this.src='https://via.placeholder.com/160x100/2a2a3e/ffffff?text=CSGO'">
                    <div class="item-name">${item.name}</div>
                    <div class="item-price">${item.price} ‚ÇΩ</div>
                    <button class="buy-btn">üõí –ö—É–ø–∏—Ç—å</button>
                `;
                container.appendChild(card);
            });
        }

        document.addEventListener('DOMContentLoaded', () => {
            loadItems().catch(loadTestData);
        });
    </script>
</body>
</html>
